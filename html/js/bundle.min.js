!function s(a,r,l){function c(e,t){if(!r[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var i=r[e]={exports:{}};a[e][0].call(i.exports,function(t){return c(a[e][1][t]||t)},i,i.exports,s,a,r,l)}return r[e].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,n){"use strict";function o(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var e=t.getBoundingClientRect();e.top,e.bottom,$(window).height();return 0<=e.top&&0<=e.left&&e.bottom<=$(window).height()&&e.right<=$(window).width()}var i=$("body"),s=$("button.burger-box"),a=$("dialog.o_external-link-modal");$(document).ready(function(){$("form input").on("blur",function(){var t=$(this),e=t.closest("div");t.is(":invalid")?t.addClass("invalid"):(t.removeClass("invalid"),e.remove("p.error"))}),$("section.o_registration-form form").on("submit",function(){}),$("section.o_registration-form checkbox").on("change",function(){$(this).is(":checked")?$('button[name="submit"]').attr("disabled",!1):$('button[name="submit"]').attr("disabled",!0)}),$("span.accent").each(function(){o($(this))&&$(this).addClass("in-view")}),$(window).on("scroll",function(){$("span.accent").each(function(){o($(this))&&$(this).addClass("in-view")})}),$(".a_title-container").each(function(){o($(this))&&$(this).addClass("in-view")}),$(window).on("scroll",function(){$(".a_title-container").each(function(){o($(this))&&$(this).addClass("in-view")})}),$("img.callout").each(function(){o($(this))&&$(this).addClass("in-view")}),$(window).on("scroll",function(){$("img.callout").each(function(){o($(this))&&$(this).addClass("in-view")})}),s.on("click",function(t){t.preventDefault(),$(this).hasClass("open")?($(this).removeClass("open").addClass("closed"),i.removeClass("nav-open"),i.removeClass("no-scroll")):($(this).addClass("open").removeClass("closed"),i.addClass("nav-open"),i.addClass("no-scroll"))}),$("a").filter(function(){return this.hostname&&this.hostname!==location.hostname}).addClass("external"),i.on("click","a.external",function(t){t.preventDefault();var e=$(this);a.get(0).showModal(),a.addClass("open"),a.find("a").attr("href",e.attr("href"))}),i.on("click","button.close",function(t){a.removeClass("open"),setTimeout(function(t){a.get(0).close()},1e3)});var c,u,d,h=$(".o_quiz-block"),f=2,m=$("#output");function p(t){setTimeout(function(){$("body").hide(),window.location=t},5e3)}m&&m.html("1"),$(".o_quiz-block input").on("click",function(t){c=$(this).closest(".step"),u=$(this),d=f-1,setTimeout(function(){if(c.hasClass("step-2")){var t=u.attr("id").replace(/age/g,"");for(1==(t=parseInt(t))&&($("body").hide(),window.location="./results/threeb.html"),t+=1;t<7;)$(".step-4").find("#howOld"+t).closest(".container").hide(),t++}if(c.hasClass("step-8")){var e=$("input[name='q3']:checked").val(),n=$("input[name='q4']:checked").val(),o=$("input[name='q5']:checked").val(),i=$("input[name='q6']:checked").val(),s=$("input[name='q7']:checked").val(),a=$("input[name='q8']:checked").val();if(">3"==e)p("./results/three.html");else{var r=0;"18–30"!=n&&"31–39"!=n||r++,"Yes"==o&&r++,"Yes"==i&&r++,"No"==s&&r++,"Yes"==a&&r++,p(4<=r?"./results/two.html":"./results/three.html")}}c.hide(),h.removeClass("step"+d).addClass("step"+f),$(".step-"+f).show(),$("#progress").animate().val(f+1),m.html(f);var l=$(".progress-number").parent().width()/8*f-10;$(".progress-number").css("left",l),f++},1200)})})},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC9qcy9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiaXNFbGVtZW50SW5WaWV3cG9ydCIsImVsIiwialF1ZXJ5IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImJvdHRvbSIsIiQiLCJ3aW5kb3ciLCJoZWlnaHQiLCJsZWZ0IiwicmlnaHQiLCJ3aWR0aCIsIiRib2R5IiwiJGJ1cmdlciIsIiRtb2RhbCIsImRvY3VtZW50IiwicmVhZHkiLCJvbiIsIiRlbCIsInRoaXMiLCIkcGFyZW50IiwiY2xvc2VzdCIsImlzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsImF0dHIiLCJlYWNoIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImhhc0NsYXNzIiwiZmlsdGVyIiwiaG9zdG5hbWUiLCJsb2NhdGlvbiIsImdldCIsInNob3dNb2RhbCIsImZpbmQiLCJzZXRUaW1lb3V0IiwiY2xvc2UiLCJzdGVwIiwiaW5wdXQiLCJjdXJyZW50Q291bnQiLCJxdWl6IiwiY291bnRlciIsIm91dHB1dCIsInNob3dSZXN1bHRzIiwiZGVzdGluYXRpb24iLCJoaWRlIiwiaHRtbCIsIm51bSIsInJlcGxhY2UiLCJwYXJzZUludCIsInEzIiwidmFsIiwicTQiLCJxNSIsInE2IiwicTciLCJxOCIsImNvdW50Iiwic2hvdyIsImFuaW1hdGUiLCJuZXdQb3MiLCJwYXJlbnQiLCJjc3MiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FB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LFNBQVMsVUFBVyxDQUczQixJQUFJc0IsRUFBSzlDLEVBQUUsNEJBQTRCK0MsTUFDbkNDLEVBQUtoRCxFQUFFLDRCQUE0QitDLE1BQ25DRSxFQUFLakQsRUFBRSw0QkFBNEIrQyxNQUNuQ0csRUFBS2xELEVBQUUsNEJBQTRCK0MsTUFDbkNJLEVBQUtuRCxFQUFFLDRCQUE0QitDLE1BQ25DSyxFQUFLcEQsRUFBRSw0QkFBNEIrQyxNQUd2QyxHQUFVLE1BQU5ELEVBQ0ZQLEVBQVksNEJBQ1AsQ0FHTCxJQUFJYyxFQUFRLEVBQ0YsU0FBTkwsR0FBdUIsU0FBTkEsR0FDbkJLLElBRVEsT0FBTkosR0FDRkksSUFFUSxPQUFOSCxHQUNGRyxJQUVRLE1BQU5GLEdBQ0ZFLElBRVEsT0FBTkQsR0FDRkMsSUFHQWQsRUFEVyxHQUFUYyxFQUNVLHFCQUVBLHlCQUtsQnBCLEVBQUtRLE9BQ0xMLEVBQUtsQixZQUFZLE9BQVNpQixHQUFjbEIsU0FBUyxPQUFTb0IsR0FDMURyQyxFQUFFLFNBQVdxQyxHQUFTaUIsT0FFdEJ0RCxFQUFFLGFBQWF1RCxVQUFVUixJQUFJVixFQUFVLEdBQ3ZDQyxFQUFPSSxLQUFLTCxHQUNaLElBQ0ltQixFQURZeEQsRUFBRSxvQkFBb0J5RCxTQUFTcEQsUUFDdEIsRUFBSWdDLEVBQVUsR0FDdkNyQyxFQUFFLG9CQUFvQjBELElBQUksT0FBUUYsR0FFbENuQixLQUNDIiwiZmlsZSI6ImJ1bmRsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBpc0VsZW1lbnRJblZpZXdwb3J0IChlbCkge1xuICAgIC8vc3BlY2lhbCBib251cyBmb3IgdGhvc2UgdXNpbmcgalF1ZXJ5XG4gICAgaWYgKHR5cGVvZiBqUXVlcnkgPT09IFwiZnVuY3Rpb25cIiAmJiBlbCBpbnN0YW5jZW9mIGpRdWVyeSkge1xuICAgICAgICBlbCA9IGVsWzBdO1xuICAgIH1cblxuICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB2YXIgdG9wID0gcmVjdC50b3A7XG4gICAgdmFyIGJvdHRvbSA9IHJlY3QuYm90dG9tO1xuICAgIHZhciBicm93c2VySGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgcmVjdC50b3AgPj0gMCAmJlxuICAgICAgICByZWN0LmxlZnQgPj0gMCAmJlxuICAgICAgICByZWN0LmJvdHRvbSA8PSAoJCh3aW5kb3cpLmhlaWdodCgpKSAmJlxuICAgICAgICByZWN0LnJpZ2h0IDw9ICgkKHdpbmRvdykud2lkdGgoKSlcbiAgICApO1xufVxuXG52YXIgJGJvZHkgPSAkKCdib2R5JyksXG4gICRidXJnZXIgPSAkKCdidXR0b24uYnVyZ2VyLWJveCcpLFxuICAkbW9kYWwgPSAkKCdkaWFsb2cub19leHRlcm5hbC1saW5rLW1vZGFsJyk7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gIC8qLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gIElucHV0c1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyovXG4gICQoJ2Zvcm0gaW5wdXQnKS5vbignYmx1cicsIGZ1bmN0aW9uKCl7XG4gICAgdmFyICRlbCA9ICQodGhpcyk7XG4gICAgdmFyICRwYXJlbnQgPSAkZWwuY2xvc2VzdCgnZGl2Jyk7XG5cbiAgICBpZigkZWwuaXMoJzppbnZhbGlkJykpe1xuICAgICAgJGVsLmFkZENsYXNzKCdpbnZhbGlkJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgJGVsLnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XG4gICAgICAkcGFyZW50LnJlbW92ZSgncC5lcnJvcicpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnc2VjdGlvbi5vX3JlZ2lzdHJhdGlvbi1mb3JtIGZvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24oKXtcbiAgICAvLyBldmVudCBoYW5kbGVyIGZvciBmb3JtIHN1Ym1pc3Npb25cbiAgfSk7XG5cbiAgJCgnc2VjdGlvbi5vX3JlZ2lzdHJhdGlvbi1mb3JtIGNoZWNrYm94Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSl7XG4gICAgICAkKCdidXR0b25bbmFtZT1cInN1Ym1pdFwiXScpLmF0dHIoJ2Rpc2FibGVkJyxmYWxzZSk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAkKCdidXR0b25bbmFtZT1cInN1Ym1pdFwiXScpLmF0dHIoJ2Rpc2FibGVkJyx0cnVlKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLyovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyAgQ2hlY2tpbmcgZm9yIGluIHBvc2l0aW9uIG9uIHNjcm9sbFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyovXG4gIC8vIGNoZWNrIHRvIHNlZXRoYXQgYW55IHRpdGxlIGNvbnRhaW5lcnMgYXJlIGluIHZpZXdcbiAgJCgnc3Bhbi5hY2NlbnQnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgaWYoaXNFbGVtZW50SW5WaWV3cG9ydCgkKHRoaXMpKSl7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbi12aWV3Jyk7XG4gICAgfVxuICB9KTtcbiAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbigpe1xuICAgICQoJ3NwYW4uYWNjZW50JykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgaWYoaXNFbGVtZW50SW5WaWV3cG9ydCgkKHRoaXMpKSl7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2luLXZpZXcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgJCgnLmFfdGl0bGUtY29udGFpbmVyJykuZWFjaChmdW5jdGlvbigpe1xuICAgIGlmKGlzRWxlbWVudEluVmlld3BvcnQoJCh0aGlzKSkpe1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW4tdmlldycpO1xuICAgIH1cbiAgfSk7XG4gICQod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24oKXtcbiAgICAkKCcuYV90aXRsZS1jb250YWluZXInKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICBpZihpc0VsZW1lbnRJblZpZXdwb3J0KCQodGhpcykpKXtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW4tdmlldycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAkKCdpbWcuY2FsbG91dCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICBpZihpc0VsZW1lbnRJblZpZXdwb3J0KCQodGhpcykpKXtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2luLXZpZXcnKTtcbiAgICB9XG4gIH0pO1xuICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCl7XG4gICAgJCgnaW1nLmNhbGxvdXQnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICBpZihpc0VsZW1lbnRJblZpZXdwb3J0KCQodGhpcykpKXtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW4tdmlldycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvKi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vICBCdXJnZXIgbWVudVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyovXG4gICRidXJnZXIub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdvcGVuJykpIHsgLy8gY2xvc2UgdGhlIG1vZGFsXG4gICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvcGVuJykuYWRkQ2xhc3MoJ2Nsb3NlZCcpO1xuICAgICAgJGJvZHkucmVtb3ZlQ2xhc3MoJ25hdi1vcGVuJyk7XG4gICAgICAkYm9keS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsJyk7XG4gICAgfSBlbHNlIHsgLy8gb3BlbiB0aGUgbW9kYWxcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29wZW4nKS5yZW1vdmVDbGFzcygnY2xvc2VkJyk7XG4gICAgICAkYm9keS5hZGRDbGFzcygnbmF2LW9wZW4nKTtcbiAgICAgICRib2R5LmFkZENsYXNzKCduby1zY3JvbGwnKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gIE1vZGFsIGxhdW5jaFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyovXG4gICQoJ2EnKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5ob3N0bmFtZSAmJiB0aGlzLmhvc3RuYW1lICE9PSBsb2NhdGlvbi5ob3N0bmFtZTtcbiAgfSkuYWRkQ2xhc3MoXCJleHRlcm5hbFwiKTtcblxuICAkYm9keS5vbignY2xpY2snLCAnYS5leHRlcm5hbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciAkZWwgPSAkKHRoaXMpO1xuICAgICRtb2RhbC5nZXQoMCkuc2hvd01vZGFsKCk7XG4gICAgJG1vZGFsLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgJG1vZGFsLmZpbmQoJ2EnKS5hdHRyKCdocmVmJywgJGVsLmF0dHIoJ2hyZWYnKSk7XG4gIH0pO1xuXG4gICRib2R5Lm9uKCdjbGljaycsICdidXR0b24uY2xvc2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICRtb2RhbC5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICRtb2RhbC5nZXQoMCkuY2xvc2UoKTtcbiAgICB9LCAxMDAwKTtcbiAgfSk7XG5cbiAgLyovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyAgUXVpelxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyovXG4gIHZhciBxdWl6ID0gJCgnLm9fcXVpei1ibG9jaycpO1xuICB2YXIgY291bnRlciA9IDI7XG4gIHZhciBvdXRwdXQgPSAkKCcjb3V0cHV0Jyk7XG4gIGlmIChvdXRwdXQpIHtcbiAgICBvdXRwdXQuaHRtbCgnMScpO1xuICB9XG4gIHZhciBzdGVwLCBpbnB1dCwgY3VycmVudENvdW50LCBhZ2U7XG4gICQoJy5vX3F1aXotYmxvY2sgaW5wdXQnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIHN0ZXAgPSAkKHRoaXMpLmNsb3Nlc3QoJy5zdGVwJyk7XG4gICAgaW5wdXQgPSAkKHRoaXMpO1xuICAgIGN1cnJlbnRDb3VudCA9IGNvdW50ZXIgLSAxO1xuICAgIC8qIFNldHMgZGVsYXkgb24gc2xpZGUgcHJvZ3Jlc3Npb24gZm9yIHNtb290aGVyIHRyYW5zaXRpb24uICovXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIC8qIElmIGFnZSBzdGVwLCBpbW1lZGlhdGVseSByZWRpcmVjdCBpZiB1bmRlciAxOCwgYWRqdXN0IHE0IGlmIG5vdC4gKi9cbiAgICAgIGlmIChzdGVwLmhhc0NsYXNzKCdzdGVwLTInKSkge1xuICAgICAgICBhZ2UgPSBpbnB1dC5hdHRyKCdpZCcpO1xuICAgICAgICB2YXIgbnVtID0gYWdlLnJlcGxhY2UoL2FnZS9nLCAnJyk7XG4gICAgICAgIG51bSA9IHBhcnNlSW50KG51bSk7XG4gICAgICAgIGlmIChudW0gPT0gMSkge1xuICAgICAgICAgICQoJ2JvZHknKS5oaWRlKCk7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gXCIuL3Jlc3VsdHMvdGhyZWViLmh0bWxcIjtcbiAgICAgICAgfVxuICAgICAgICBudW0gPSBudW0gKyAxO1xuICAgICAgICB3aGlsZSAobnVtIDwgNykge1xuICAgICAgICAgICQoJy5zdGVwLTQnKS5maW5kKCcjaG93T2xkJyArIG51bSkuY2xvc2VzdCgnLmNvbnRhaW5lcicpLmhpZGUoKTtcbiAgICAgICAgICBudW0rKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyogRmluYWwgc3RlcCwgc2V0cyBjb29raWVzLCBkZXRlcm1pbmVzIHJlc3VsdHMsIHNldHMgcmVkaXJlY3QgdGltZW91dCBiYXNlZCBvbiByZXN1bHRzLiAqL1xuICAgICAgaWYgKHN0ZXAuaGFzQ2xhc3MoJ3N0ZXAtOCcpKSB7XG5cbiAgICAgICAgLy8gVG9kbzogbmVlZCB0byBjb29raWUgdGhlc2UgaGVyZSBmb3IgdGhlIG5leHQgcGFnZVxuICAgICAgICB2YXIgcTMgPSAkKFwiaW5wdXRbbmFtZT0ncTMnXTpjaGVja2VkXCIpLnZhbCgpO1xuICAgICAgICB2YXIgcTQgPSAkKFwiaW5wdXRbbmFtZT0ncTQnXTpjaGVja2VkXCIpLnZhbCgpO1xuICAgICAgICB2YXIgcTUgPSAkKFwiaW5wdXRbbmFtZT0ncTUnXTpjaGVja2VkXCIpLnZhbCgpO1xuICAgICAgICB2YXIgcTYgPSAkKFwiaW5wdXRbbmFtZT0ncTYnXTpjaGVja2VkXCIpLnZhbCgpO1xuICAgICAgICB2YXIgcTcgPSAkKFwiaW5wdXRbbmFtZT0ncTcnXTpjaGVja2VkXCIpLnZhbCgpO1xuICAgICAgICB2YXIgcTggPSAkKFwiaW5wdXRbbmFtZT0ncTgnXTpjaGVja2VkXCIpLnZhbCgpO1xuICAgICAgICAvLyBzZXRDb29raWUoJ2Zvcm1EYXRhJywgcTIsIDM2NSk7XG5cbiAgICAgICAgaWYgKHEzID09ICc+MycpIHtcbiAgICAgICAgICBzaG93UmVzdWx0cygnLi9yZXN1bHRzL3RocmVlLmh0bWwnKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIC8vIEkgc2hvdWxkIHJseSBkbyBhIHN3aXRjaCBzdGF0ZW1lbnQgaGVyZVxuICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgaWYgKHE0ID09IFwiMTjigJMzMFwiIHx8IHE0ID09IFwiMzHigJMzOVwiKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocTUgPT0gXCJZZXNcIikge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHE2ID09IFwiWWVzXCIpIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChxNyA9PSBcIk5vXCIpIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChxOCA9PSBcIlllc1wiKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY291bnQgPj0gNCkge1xuICAgICAgICAgICAgc2hvd1Jlc3VsdHMoJy4vcmVzdWx0cy90d28uaHRtbCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaG93UmVzdWx0cygnLi9yZXN1bHRzL3RocmVlLmh0bWwnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qIFByb2dyZXNzZXMgcXVpeiAqL1xuICAgICAgc3RlcC5oaWRlKCk7XG4gICAgICBxdWl6LnJlbW92ZUNsYXNzKCdzdGVwJyArIGN1cnJlbnRDb3VudCkuYWRkQ2xhc3MoJ3N0ZXAnICsgY291bnRlcik7XG4gICAgICAkKCcuc3RlcC0nICsgY291bnRlcikuc2hvdygpOyAvLyB3ZSBtaWdodCBuZWVkIHRvIGFkZCBpbiBhZGRpdGlvbmFsIHRhYi1pbmRleD0xIG9yIC0xIGxvZ2ljIGhlcmUgZm9yIGFjY2Vzc2liaWxpdHkgYXMgd2VsbCwgYnV0IHdlIGNhbiB0YWtlIGNhcmUgb2YgdGhhdCBsYXRlclxuICAgICAgICAvKiBTZXRzIFByb2dyZXNzIEJhciAqL1xuICAgICAgJChcIiNwcm9ncmVzc1wiKS5hbmltYXRlKCkudmFsKGNvdW50ZXIgKyAxKTtcbiAgICAgIG91dHB1dC5odG1sKGNvdW50ZXIpO1xuICAgICAgdmFyIHBhcmVudFBvcyA9ICQoXCIucHJvZ3Jlc3MtbnVtYmVyXCIpLnBhcmVudCgpLndpZHRoKCk7XG4gICAgICB2YXIgbmV3UG9zID0gcGFyZW50UG9zIC8gOCAqIGNvdW50ZXIgLSAxMDsgLy8gQGVtYSBjYW4gd2UgbWFrZSA4IGEgdmFyIGFzIHdlbGwsIG1heWJlIGEgZGl2LnN0ZXAubGVuZ3RoKDApIG9yIHNvbWV0aGluZz8ganVzdCB0aGlua2luZyBhYm91dCBob3cgdG8gbWFrZSB0aGlzIHF1aXogd29yayBmb3Igb3RoZXIgcHJvamVjdHMgd2l0aCBub3QgdGhhdCBtdWNoIGV4dHJhIHdvcmtcbiAgICAgICQoXCIucHJvZ3Jlc3MtbnVtYmVyXCIpLmNzcygnbGVmdCcsIG5ld1Bvcyk7XG5cbiAgICAgIGNvdW50ZXIrKztcbiAgICB9LCAxMjAwKTtcbiAgfSk7XG4gIGZ1bmN0aW9uIHNob3dSZXN1bHRzKGRlc3RpbmF0aW9uKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICQoJ2JvZHknKS5oaWRlKCk7XG4gICAgICB3aW5kb3cubG9jYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICB9LCA1MDAwKTtcbiAgfVxuICBmdW5jdGlvbiBzZXRDb29raWUoY25hbWUsIGN2YWx1ZSwgZXhkYXlzKSB7XG4gICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICAgIGQuc2V0VGltZShkLmdldFRpbWUoKSArIChleGRheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XG4gICAgdmFyIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIgKyBkLnRvVVRDU3RyaW5nKCk7XG4gICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj1cIiArIGN2YWx1ZSArIFwiO1wiICsgZXhwaXJlcyArIFwiO3BhdGg9L1wiO1xuICB9XG4gIGZ1bmN0aW9uIGdldENvb2tpZShjbmFtZSkge1xuICAgIHZhciBuYW1lID0gY25hbWUgKyBcIj1cIjtcbiAgICB2YXIgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IGNhW2ldO1xuICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykge1xuICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XG4gICAgICB9XG4gICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHtcbiAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIC8vIERvIHdlIHdhbm5hIGRvIGFueXRoaW5nIHdpdGggdGhpcyBkYXRhL3N0b3JlIGl0IGFueXdoZXJlP1xuICAvLyBjb25zb2xlLmxvZygkKCdmb3JtJykuc2VyaWFsaXplQXJyYXkoKSk7IC8vIEBlbWEgYnR3IGkgdGhpbmsgbWFraW5nIHRoZSB3aG9sZSB0aGluZyBhIGZvcm0gd2FzIHJlYWxseSBjbGV2ZXIsIGkgbG92ZSB0aGlzIGFwcHJvYWNoXG59KTtcbiJdfQ==
